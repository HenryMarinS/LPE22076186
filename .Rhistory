install.packages("tidyverse","httr","janitor")
setwd("C:/Users/Enrique Marín/Desktop/Uni/3º/Lenguajes de Programación Estadística")
install.packages("tidyverse","httr","janitor")
install.packages (c("tidyverse","httr","janitor"))
library(tidyvere)
setwd("C:/Users/Enrique Marín/Desktop/Uni/3º/Lenguajes de Programación Estadística")
install.packages (c("tidyverse","httr","janitor"))
install.packages(c("tidyverse", "httr", "janitor"))
library(tidyvere)
install.packages("tidyverse")
setwd("C:/Users/Enrique/Desktop/Uni/3º/Lenguajes de Programación Estadística")
install.packages (c("tidyverse","httr","janitor"))
install.packages(c("tidyverse", "httr", "janitor"))
library(tidyverse)
library(httr)
install.packages("pacman")
setwd("C:/Users/Enrique/Desktop/Uni/3º/Lenguajes de Programación Estadística")
df<-httr::GET("https://sedeaplicaciones.minetur.gob.es/ServiciosRESTCarburantes/PreciosCarburantes/EstacionesTerrestres/")
install.packages(c("tidyverse","httr","janitor"))
install.packages("janitor")
install.packages("pacman")
View(df)
View(df)
install.packages(c("tidyverse","httr","janitor"))
install.packages(c("tidyverse", "httr", "janitor"))
install.packages("janitor")
install.packages("pacman")
library(tidyverse, httr)
df<-httr::GET("https://sedeaplicaciones.minetur.gob.es/ServiciosRESTCarburantes/PreciosCarburantes/EstacionesTerrestres/")
url_<-"https://sedeaplicaciones.minetur.gob.es/ServiciosRESTCarburantes/PreciosCarburantes/EstacionesTerrestres/"
res_<-httr::GET("https://sedeaplicaciones.minetur.gob.es/ServiciosRESTCarburantes/PreciosCarburantes/EstacionesTerrestres/")
xml2::read_xml(res_$content)
f_raw<-jsonlite::fromJSON(url_)
df_source<-f_raw$ListaEESSPrecio %>% glimpse()
janitor::clean_names(df_source)%>% glimpse()
type.convert(df_source,locale = )
setwd("C:/Users/Enrique/Desktop/Uni/3º/Lenguajes de Programación Estadística")
locale()
df_source %>% janitor::clean_names()%>% type_convert(locale = locale(decimal_mark = ",")) %>% glimpse()
df<-df_source %>% janitor::clean_names()%>% type_convert(locale = locale(decimal_mark = ","))
df %>% mutate(expensive = rotulo %in% c("CEPSA","REPSOL","BP","SHELL"))
df_low<-df %>% mutate(expensive = !rotulo %in% c("CEPSA","REPSOL","BP","SHELL"))
View(df_low)
df_low %>% select(precio_gasoleo_a,idccaa,rotulo,expensive) %>% drop_na() %>% group_by(idccaa,expensive) %>% summarise(mean(precio_gasoleo_a)) %>% view()
View(df)
View(df)
df_low %>% select(precio_gasoleo_a,provincia,rotulo,expensive) %>% drop_na() %>% group_by(provincia,expensive) %>% summarise(mean(precio_gasoleo_a)) %>% view()
ds22076186<-df_low%>%select(precio_gasoleo_a,idccaa,rotulo,expensive)%>%drop_na()%>%group_by(idccaa,expensive)%>%summarise(mean(precio_gasoleo_a))%>%data.frame("Comunidades"= c("Andalucia","Aragón","Principado de Asturias","Islas Baleares","Canarias","Cantabria","CastillaLeon","CastillaLaMancha","Cataluña","ComunidadValenciana","Extremadura","Galicia","Madrid","Murcia","Navarra","Paisvasco","Rioja","Ceuta","Melilla"))%>%view()
setwd("C:/Users/Enrique/Desktop/Uni/3º/Lenguajes de Programación Estadística")
